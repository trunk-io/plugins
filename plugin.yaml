version: 0.1
required_trunk_version: ">0.17.0"
actions:
  definitions:
    - id: git-lfs
      display_name: Git LFS
      description: Git LFS hooks
      run: git lfs "${hook}" "${@}"
      triggers:
        - git_hooks: [post-checkout, post-commit, post-merge, pre-push]

    - id: buf-gen
      display_name: Buf generate
      description: Run 'buf generate' anytime a .proto file changes. Must have a buf.work.yaml to work properly.
      run: buf generate
      triggers:
        - files: ["**/*.proto"]
